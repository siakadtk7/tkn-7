<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Raport PDF {{ siswa.nama }}</title>
<style>
<<<<<<< HEAD
    @page {
        size: 215mm 330mm; /* F4 */
        margin-top: 1.5cm;
        margin-bottom: 1.5cm;
        margin-left: 0.3cm;
        margin-right: 0.3cm;
    }
    body {
        font-family: 'Poppins', sans-serif; /* Using a common font */
        font-size: 16px;
        color: #333;
    }
    .container {
        width: 100%;
        margin: 0 auto;
    }
    .text-center { text-align: center; }
    .fw-bold { font-weight: bold; }
    .mb-4 { margin-bottom: 2.5rem; }
    .mb-3 { margin-bottom: 1rem; }
    .mt-4 { margin-top: 1.5rem; }
    .mt-5 { margin-top: 3rem; }
    .table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 1rem;
    }
    .table-borderless td {
        border: none;
        padding: 0.25rem 0;
    }
    hr {
        border: 0;
        border-top: 1px solid #ccc;
        margin: 1rem 0;
    }
    .aspek-heading {
        background-color: #f2f2f2;
        padding: 0.5rem 0.75rem;
        margin-bottom: 1rem;
        border-radius: 0.4rem;
    }
    
    /* Float layout for text wrapping */
    .aspek-content::after {
        content: "";
        clear: both;
        display: table;
    }
    .aspek-foto {
        float: left;
        /* width: 150px !important; */ /* Ukuran yang diinginkan */
        max-width: 100%;
        margin-right: 1rem;
        margin-bottom: 0.5rem;
        border-radius: 0.5rem;
    }
    .deskripsi-aspek {
        text-align: justify;
        margin: 0;
        font-family: 'Times New Roman', serif;
        font-size: 12pt !important;
        line-height: 1.5 !important;
    }

    .deskripsi-aspek p {
        margin-bottom: 0.5em; /* Memberikan sedikit spasi antar paragraf */
    }

    .page-break {
        page-break-before: always;
    }

    .page-break-section {
        page-break-before: always;
    }

    .refleksi-box {
        border: 1px solid #ccc;
        border-radius: 0.5rem;
        padding: 1rem;
        min-height: 150px;
        margin: 10px 0;
    }

    .dotted-line-answer {
        border-bottom: 1px dotted #999;  /* bisa diganti dashed */
        height: 1.5em; /* Menyesuaikan dengan cetak_raport.html */
        margin-bottom: 1em; /* Menyesuaikan dengan cetak_raport.html */
    }

    .kehadiran-container {
        display: flex;
        gap: 20px;
        margin-top: 0.5rem;
    }
    .kehadiran-box {
        flex: 1;
        padding: 0.5rem;
        border-radius: 0.5rem;
        text-align: center;
        font-weight: bold;
        font-size: 8pt !important;
    }
    .sakit { background-color: #fce4e4; color: #a94442; }
    .izin { background-color: #fff8e1; color: #8a6d3b; }
    .alpha { background-color: #fde2e2; color: #a94442; }
    .signature-container {
        margin-top: 4rem;
        display: flex;
        justify-content: space-between;
    }
    .signature-block {
        flex: 1;
        text-align: center;
    }
    .signature-space {
        height: 80px;
    }
    .underline {
        text-decoration: none;
        font-weight: bold;
    }
    .nip {
        line-height: 0.2 !important;
    }

/*!
 * Bootstrap Icons (https://icons.getbootstrap.com)
 * Copyright 2019-2023 The Bootstrap Icons Authors
 * Licensed under MIT (https://github.com/twbs/icons/blob/main/LICENSE)
 */
@font-face{font-family:"bootstrap-icons";src:url('/static/fonts/bootstrap-icons/bootstrap-icons.woff2') format('woff2'),url('/static/fonts/bootstrap-icons/bootstrap-icons.woff') format('woff'),url('/static/fonts/bootstrap-icons/bootstrap-icons.ttf') format('truetype')}
.bi::before, [class*=" bi-"]::before{display:inline-block;font-family:"bootstrap-icons"!important;font-style:normal;font-weight:normal!important;line-height:1;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.bi-heart::before{content:"\f443"}.bi-book::before{content:"\f11d"}.bi-x-circle:before{content:"\f5b3"}.bi-x::before{content:"\f5b3"}
</style>
</head>
<body>
    <!-- ================= Wrapper Utama ================= -->
    <div style="background-color: white; padding: 1.5rem; border-radius: 1rem;
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05); margin-top: -4rem;
                max-width: 950px; margin-left: auto; margin-right: auto;">

        <!-- Header -->
        <div style="position: relative; text-align: center;">
            <h3 class="text-center fw-bold mb-4">
                Laporan Capaian Pembelajaran Anak <br> TK Negeri 7 Tanjungpinang
            </h3>
            {# Tombol print dihapus karena ini PDF #}
        <table class="table table-borderless" style="width: 100%; font-size: 12pt !important;">
            <tr>
                <td style="width: 40%; vertical-align: top;">
                    <table class="table table-borderless" style="width: 100%;">
                        <tr>
                            <td style="text-align: left;">Nama</td>
                            <td style="width: 20px; text-align: center;">:</td>
                            <td style="text-align: left;">{{ siswa.nama }}</td>
                        </tr>
                        <tr>
                            <td style="text-align: left;">Nomor Induk</td>
                            <td style="width: 20px; text-align: center;">:</td>
                            <td style="text-align: left;">{{ siswa.nomor_induk }}</td>
                        </tr>
                        <tr>
                            <td style="text-align: left;">NISN</td>
                            <td style="width: 20px; text-align: center;">:</td>
                            <td style="text-align: left;">{{ siswa.nisn }}</td>
                        </tr>
                    </table>
                </td>
                <td style="width: 60%; vertical-align: top;">
                    <table class="table table-borderless" style="width: 100%;">
                        <tr>
                            <td style="text-align: left; padding-left: 100px;">Semester</td>
                            <td>:</td>
                            <td style="padding-left: 5px; text-align: left;">{{ semester }}</td>
                        </tr>
                        <tr>
                            <td style="text-align: left; padding-left: 100px;">Tahun Ajaran</td>
                            <td>:</td>
                            <td style="padding-left: 5px; text-align: left;">{{ tahun_ajaran }}</td>
                        </tr>
                        <tr>
                            <td style="text-align: left; padding-left: 100px;">Kelas</td>
                            <td>:</td>
                            <td style="padding-left: 5px; text-align: left;">{{ kelas_nama }}</td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>

    <hr>

        <!-- Laporan Aspek -->
        {% for aspek in aspek_list %}
        <div class="mb-4" style="margin-bottom: 2rem;">
            <h5 class="fw-bold" 
                style="background-color: #f2f2f2; 
                       padding: 0.5rem 0.75rem; 
                       margin-bottom: 1rem; 
                       border-radius: 0.4rem; 
                       text-align: left; 
                       text-transform: capitalize; 
                       font-size: 14pt !important;">
                {{ aspek.aspek.nama_aspek }}
            </h5>

            {% if aspek.foto %}
            <div class="aspek-content">
            <img src="{{ aspek.foto.url }}" 
                 alt="Foto {{ aspek.aspek.nama_aspek }}" 
                 class="aspek-foto"
                 style="width: {{ aspek.display_width }}; height: {{ aspek.display_height }}; object-fit: cover;">
                    <div class="deskripsi-aspek">{{ aspek.deskripsi|default:"-"|linebreaks }}</div>
                </div>

            {% else %}
                <div class="deskripsi-aspek">
                    {{ aspek.deskripsi|default:"-"|linebreaks }}
                </div>
            {% endif %}
        </div>
        {% empty %}
            <p class="text-muted">Belum ada laporan aspek.</p>
        {% endfor %}

    <div style="page-break-before: always; page-break-inside: avoid;"> {# Memulai di halaman baru dan menghindari pemisahan di dalamnya #}
        <!-- Refleksi Orang Tua -->
        <div class="mt-4" style="max-width: 900px; margin: auto;">
            <hr><h5 class="fw-bold mb-3" style="text-align: left; font-size: 14pt !important;">Refleksi Orang Tua</h5><hr>
            
            <div style="border: 1px solid #ccc; border-radius: 0.5rem; padding: 1rem; min-height: 100px;">
                {% for refleksi in refleksi_list %}
                    <div style="margin-bottom: 0;">
                        <p style="margin-bottom: 0.3rem; text-align: justify;">{{ forloop.counter }}. {{ refleksi.teks }}?</p>
                        <div class="dotted-line-answer"></div>
                        <div class="dotted-line-answer"></div>
                        <div class="dotted-line-answer"></div>
                    </div>
                {% empty %}
                    <p class="text-muted">Belum ada catatan refleksi untuk tahun ajaran ini.</p>
                {% endfor %}
            </div>
        </div>



        <!-- Kehadiran Semester -->
        <div class="mt-4">
            <hr><h5 class="fw-bold" style="font-size: 14pt !important;text-align: left;">Kehadiran</h5><hr>
                        <div class="kehadiran-container">
                            <div class="kehadiran-box sakit">
                                <i class='bi bi-heart' style="font-size:1.5rem;"></i><br>
                                Sakit : {{ total_sakit }} Hari
                            </div>
                            <div class="kehadiran-box izin">
                                <i class='bi bi-book' style="font-size:1.5rem;"></i><br>
                                Izin : {{ total_izin }} Hari
                            </div>
                            <div class="kehadiran-box alpha">
                                <i class='bi bi-x' style="font-size:1.5rem;"></i><br>
                                Tanpa Keterangan : {{ total_alpha }} Hari
                            </div>
                        </div>            </div><hr>

        <!-- Tanda Tangan -->
        <div>
            <div class="signature-container">
                <div class="signature-block">
                    <p style="font-size: 15px;">Orang Tua / Wali,</p>
                    <div style="height: 60px;"></div> <!-- ruang tanda tangan -->
                    <p style="font-weight: bold;">
                        {{ siswa.nama_ayah }}
                    </p>
                </div>
                <div class="signature-block">
                    <p style="font-size: 15px;">Wali Kelas,</p>
                    <div style="height: 60px;"></div> <!-- ruang tanda tangan -->
                    <p style="font-weight: bold; margin-bottom: 0; line-height: 0;">{{ wali_kelas.nama|title }}</p>
                    <p style="line-height: 1;">NIP. {{ wali_kelas.nip }}</p>
                </div>
            </div>
            <div class="signature-container" style="justify-content: center; margin-top: 1rem;">
                <div class="signature-block">
                    <p style="font-size: 15px;">Mengetahui,<br>Kepala TK Negeri 7 Tanjungpinang</p>
                    <div style="height: 60px;"></div> <!-- ruang tanda tangan -->
                    <p style="font-weight: bold; margin-bottom: 0; line-height: 0;">{{ kepala_sekolah.nama|title }}</p>
                    <p style="line-height: 1;">NIP. {{ kepala_sekolah.nip }}</p>
                </div>
            </div>
        </div>
    </div> {# Penutup page-break-section #}
</body>
=======
        @page {
            size: A4;
            margin: 1cm;
        }
        body {
            font-family: 'Poppins', sans-serif; /* Using a common font */
            font-size: 16px;
            color: #333;
        }
        .container {
            width: 100%;
            margin: 0 auto;
        }
        .text-center { text-align: center; }
        .fw-bold { font-weight: bold; }
        .mb-4 { margin-bottom: 2.5rem; }
        .mb-3 { margin-bottom: 1rem; }
        .mt-4 { margin-top: 1.5rem; }
        .mt-5 { margin-top: 3rem; }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }
        .table-borderless td {
            border: none;
            padding: 0.25rem 0;
        }
        hr {
            border: 0;
            border-top: 1px solid #ccc;
            margin: 1rem 0;
        }
        .aspek-heading {
            background-color: #f2f2f2;
            padding: 0.5rem 0.75rem;
            margin-bottom: 1rem;
            border-radius: 0.4rem;
        }
        
        /* Float layout for text wrapping */
        .aspek-content::after {
            content: "";
            clear: both;
            display: table;
        }
        .aspek-foto {
            float: left;
            width: 450px;
            max-width: 50%;
            margin-right: 1rem;
            margin-bottom: 0.5rem;
            border-radius: 0.5rem;
        }
        .aspek-deskripsi {
            text-align: justify;
            margin: 0;
            font-family: 'Times New Roman', serif;
            font-size: 12px;
            line-height: 1.5;
        }

        .page-break {
            page-break-before: always;
        }

        .page-break-section {
            page-break-before: always;
        }

        .refleksi-box {
            border: 1px solid #ccc;
            border-radius: 0.5rem;
            padding: 1rem;
            min-height: 150px;
            margin: 10px 0;
        }

        .refleksi-line {
            border-bottom: 1px dotted #999;  /* bisa diganti dashed */
            margin-bottom: 2rem;
        }

        .kehadiran-container {
            display: flex;
            gap: 20px;
            margin-top: 0.5rem;
        }
        .kehadiran-box {
            flex: 1;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            font-weight: bold;
        }
        .sakit { background-color: #fce4e4; color: #a94442; }
        .izin { background-color: #fff8e1; color: #8a6d3b; }
        .alpha { background-color: #fde2e2; color: #a94442; }
        .signature-container {
            margin-top: 4rem;
            display: flex;
            justify-content: space-between;
        }
        .signature-block {
            flex: 1;
            text-align: center;
        }
        .signature-space {
            height: 80px;
        }
        .underline {
            text-decoration: none;
            font-weight: bold;
        }
        .nip {
            line-height: 0.2 !important;
        }
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="text-center mb-4">
            <h5 class="fw-bold" style="font-size: 25px; line-height: 1.5;">
                Laporan Capaian Pembelajaran Anak <br> TK Negeri 7 Tanjungpinang
            </h5>
        </div> <br>

        <!-- Info Siswa -->
        <table class="table table-borderless" style="width: 100%;">
            <tr>
                <td style="width: 120px;">Nama</td>
                <td>: {{ siswa.nama }}</td>
                <td style="width: 120px;"></td> <!-- kolom kosong -->
                <td style="width: 120px;">Semester</td>
                <td>: {{ semester }}</td>
            </tr>
            <tr>
                <td>Nomor Induk</td>
                <td>: {{ siswa.nomor_induk }}</td>
                <td></td>
                <td>Tahun Ajaran</td>
                <td>: {{ siswa.tahun_ajaran }}</td>
            </tr>
            <tr>
                <td>NISN</td>
                <td>: {{ siswa.nisn }}</td>
            </tr>
        </table>

<hr>

        <!-- Laporan Aspek -->
        {% for aspek in aspek_list %}
        <div class="mb-4">
            <h5 class="fw-bold aspek-heading" style="font-size: 18px;">
                {{ aspek.aspek.nama }}
            </h5>
            {% if aspek.absolute_foto_url %}
            <div class="aspek-content">
                <img src="{{ aspek.absolute_foto_url }}" alt="Foto {{ aspek.aspek.nama }}" class="aspek-foto">
                <p class="aspek-deskripsi">{{ aspek.deskripsi|default:"-" }}</p>
            </div>
            {% else %}
                <p class="aspek-deskripsi">{{ aspek.deskripsi|default:"-" }}</p>
            {% endif %}
        </div>
        {% empty %}
            <p>Belum ada laporan aspek.</p>
        {% endfor %}

        <!-- Pembungkus baru untuk Refleksi, Kehadiran, dan Tanda Tangan -->
        <div class="page-break-section"> {# Kelas baru untuk page break #}
            <!-- Refleksi Orang Tua -->
            <div class="mt-4">
                <hr><h5 class="fw-bold mb-3">Refleksi Orang Tua</h5><hr>
                <div class="refleksi-box">
                    <div class="refleksi-line"></div>
                    <div class="refleksi-line"></div>
                    <div class="refleksi-line"></div>
                    <div class="refleksi-line"></div>
                    <div class="refleksi-line"></div>
                    <div class="refleksi-line"></div>
                    <div class="refleksi-line"></div>
                </div>
            </div>

            <br>

            <!-- Kehadiran Semester -->
            <div class="mt-4">
                <hr><h5 class="fw-bold">Kehadiran</h5><hr>
                            <div class="kehadiran-container">
                                <div class="kehadiran-box sakit">
                                    <i class='bx bx-heart' style="font-size:1.5rem;"></i><br>
                                    Sakit: {{ total_sakit }} Hari
                                </div>
                                <div class="kehadiran-box izin">
                                    <i class='bx bx-book' style="font-size:1.5rem;"></i><br>
                                    Izin: {{ total_izin }} Hari
                                </div>
                                <div class="kehadiran-box alpha">
                                    <i class='bx bx-x-circle' style="font-size:1.5rem;"></i><br>
                                    Tanpa Keterangan: <br> {{ total_alpha }} Hari
                                </div>
                            </div>            </div>

            <!-- Tanda Tangan -->
            <div>
                <div class="signature-container">
                    <div class="signature-block">
                        <p style="font-size: 15px;">Orang Tua / Wali,</p>
                        <div class="signature-space"></div>
                        <p class="underline">{{ siswa.nama_ayah }}</p>
                    </div>
                    <div class="signature-block">
                        <p style="font-size: 15px;">Wali Kelas,</p>
                        <div class="signature-space"></div>
                        <p class="underline" style="font-size: 15px;">{{ wali_kelas.nama|title }}</p>
                        <p class="nip" style="font-size: 15px;">NIP. {{ wali_kelas.nip }}</p>
                    </div>
                </div>
                <div class="signature-container" style="justify-content: center; margin-top: 6rem;">
                    <div class="signature-block">
                        <p style="font-size: 15px;">Mengetahui,<br>Kepala TK Negeri 7 Tanjungpinang</p>
                        <div class="signature-space"></div>
                        <p class="underline">{{ kepala_sekolah.nama|title }}</p>
                        <p class="nip" style="font-size: 15px;">NIP. {{ kepala_sekolah.nip }}</p>
                    </div>
                </div>
            </div>
        </div> {# Penutup page-break-section #}
    </div>
</body>
</html>
>>>>>>> 9b78fbe049163d23ecef90cfa98626ad3a8f1fa3
